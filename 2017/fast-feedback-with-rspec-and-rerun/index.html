<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Fast feedback with RSpec and rerun</title>
  <meta name="description" content="My path to craftsmanship.">
  <meta name="author" content="Felipe Sere">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@felipesere">
<meta name="twitter:creator" content="@felipesere">

  <meta name="twitter:title" content="Fast feedback with RSpec and rerun">


<meta name="twitter:url" content="http://felipesere.github.io/2017/fast-feedback-with-rspec-and-rerun/">


  <meta name="twitter:description" content="Recently this tweet scrolled across my time-line about using --fail-fast

">


  <meta name="twitter:image" content="http://felipesere.github.io/images/profile.jpg">



  <meta property="og:type" content="article">
  <meta property="og:title" content="Felipe Sere">
  <meta property="og:description" content="My path to craftsmanship.">

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://felipesere.github.io//2017/fast-feedback-with-rspec-and-rerun/">
  <link rel="alternate" type="application/rss+xml" title="Felipe Sere" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Felipe Sere">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Felipe Sere</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">My path to craftsmanship.</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to Felipe Sere blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/felipesere" title="@felipesere on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            

            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/felipesere" title="felipesere on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:felipe@8thlight.com" title="Email felipe@8thlight.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="25 Jan 2017" class="post-meta__date date">25 Jan 2017</time> <span class="post-meta__tags">on <a href="/tags/#testing">testing</a> </span>
    </div>
    <h1 class="post-title">Fast feedback with RSpec and rerun</h1>
  </header>

  <section class="post">
    <p>Recently <a href="https://twitter.com/CharlotteBRF/status/824251562428076034">this</a> tweet scrolled across my time-line about using <code class="highlighter-rouge">--fail-fast</code></p>

<div class="jekyll-twitter-plugin"><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Super blog from <a href="https://twitter.com/nikeshashar">@nikeshashar</a> on failing fast with <a href="https://twitter.com/hashtag/RSpec?src=hash">#RSpec</a> <a href="https://t.co/PZF3tXulay">https://t.co/PZF3tXulay</a> ..all those <a href="https://twitter.com/codewars">@codewars</a>  tests feel worth it! cc <a href="https://twitter.com/felipesere">@felipesere</a></p>&mdash; Dr Charlotte Fereday (@CharlotteBRF) <a href="https://twitter.com/CharlotteBRF/status/824251562428076034">January 25, 2017</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p>Using <code class="highlighter-rouge">--fail-fast</code> with RSpec means the very first failure that RSpec encounters will halt the entire suite.
Passing tests give a sense achievement, but failing tests show where more work is needed.
Furthermore, getting many cascading failures (indicative of a potential design issue!) are distracting and overwhelming.
Using <code class="highlighter-rouge">--fail-fast</code> limits the amount of failures we need to concentrate at any given time.</p>

<p>But there is more.
Switching between your editor and terminal, followed by running <code class="highlighter-rouge">rspec --fail-fast</code> (potentailly hitting up-arrow multiple times) adds
an additional context switch and is distracting. I catch myself “over-tabbing” to my twitter timeline in Chrome every once in a while, just saying.
What if we didn’t have to manually run our tests?
Enter <a href="https://github.com/alexch/rerun">rerun</a>.
Install it with</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>   gem install rerun
</code></pre>
</div>

<p>and then run</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>  rerun -cx <span class="s2">"rspec --fail-fast
</span></code></pre>
</div>

<p>Let’s decompose that:</p>

<ul>
  <li>-c will clear the screen, so you are not distracted by previous successes/failures</li>
  <li>-x expect rspec to ‘exit’, meaning we know its a one-shot command and not a server (that needs to halted)</li>
</ul>

<p>There are a couple of ways to improve this even further.
For example, if you install <a href="https://github.com/julienXX/terminal-notifier">terminal-notifier</a> then you can have notifications
pop up in the notification center. This is nice if you work in Sublime or Atom and you feel like you’d loose too much screen space
by having a command line open in parallel.</p>

<p>Another cool parameter is <code class="highlighter-rouge">-p "**/*.something"</code> which lets you watch for certain files.
Rerun is setup to watch for common files (Ruby, SCSS, JS, and some others),
but it is happy to work with any pattern you want.</p>

<p>So there you go, have <code class="highlighter-rouge">rerun</code> run your tests for you!</p>


  </section>
  <div class="share-page">
  Feedback? Ideas? Comments? &#10145;
    <a href="https://twitter.com/intent/tweet?text=Fast feedback with RSpec and rerun&url=http://felipesere.github.io/2017/fast-feedback-with-rspec-and-rerun/&via=felipesere&related=felipesere" rel="nofollow" target="_blank" class="twitter-share-button" title="Share on Twitter">Twitter</a>
    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

  
</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2017 Felipe Sere. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91069061-1', 'auto');
  ga('send', 'pageview');
</script>

    </div>
  </body>
</html>